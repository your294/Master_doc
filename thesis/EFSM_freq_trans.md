## from the thesis DIVERSITY-ORIENTED TEST SUITE GENERATION FOR EFSM MODEL
we can see it prompt 3 ideas as:
The three factors are transitions (transition itself and order), def-use variables, and the frequency of the same transitions in test paths, named factor1, factor2, and factor3, respectively.

it give 2 examples in these transitions and in the first sequence Tp1=〈T1T4T7T11T6T11T7T11T12〉 and Tp2=〈T1T4T7T11T6T11T6T11T12〉Tp1 has 2 T7 and Tp2 has 2 T6
this thesis think this may be a key factor to test sequence generation

在本文中，测试多样性被认为是提高测试套件有效性的有效方法。扩展有限状态机（EFSM）是一种广泛使用的形式模型，但很少关注具有更多多样性的测试套件生成。 EFSM 测试套件生成涉及测试路径生成和测试数据生成。考虑到与测试数据之间的差异相比，测试路径之间的差异对测试套件的多样性具有更关键的影响，因此本文主要关注EFSM模型更具多样性的测试路径生成。因此，研究了影响测试路径之间差异的因素。然后基于这些因素，设计了一个综合距离度量来评估测试路径之间的差异，并提出了 EFSM 测试套件的多样性测量。此外，提出了一种面向多样性的测试套件生成（DOTSG）方法，该方法在传统的基于遗传算法的面向覆盖的EFSM测试套件生成（COTSG）中采用了基于相异的适应度函数和面向多样性的更新策略。实验结果表明，与 COTSG 相比，我们的 DOTSG 不仅可以生成更多样化的测试套件来满足一定的覆盖标准，提高测试套件的故障检测能力，而且还可以降低演进时间成本和测试套件的大小生成的。

**貌似有{tc1, tc2...tcj}好多组测试用例**
根据测试套件中每对测试用例的距离，可以构建一个距离矩阵，其中每个元素代表每对测试用例之间的差异性[19]、[20]。测试套件 TS 的多样性由套件中每个测试用例与其最近邻居之间的距离之和表示[9]。

对于每个新生成的 EFSM 测试路径（在本小节中称为目标路径），将提取按顺序触发所有转换的事件序列，并识别这些事件的输入参数的类型。然后，通过应用我们之前为 EFSM 模型开发的基于 GA 的测试数据生成系统来生成沿路径行进的输入参数值 [5]。初始群体是根据其数据类型随机生成的。染色体是实数编码的，每个基因代表一个输入参数。每个个体都通过以下适应度函数进行评估。

## 种群更新和种群淘汰策略
种群更新是指根据适应度选择一些个体形成新的种群。考虑到我们的目的是为 EFSM 模型获得更加多样化的测试集，因此提出了两种面向多样性的更新策略，以使新种群具有更好的多样性。一种称为添加策略，即根据个体之间的差异性将个体逐一添加到新的种群中，直到个体数量等于预设的种群规模。另一种称为删除策略，即不断删除当前种群中与其他个体最相似的个体以及新生成的个体，直到剩余个体的数量与预设的种群规模相同。采用Add策略更新种群时，将候选种群中与所有其他个体差异最大的个体一一添加到新种群中。更具体地，当前种群currentpop和遗传操作生成的子种群childpop一起被视为候选种群candidatepop。从candidatepop中随机选择第一个个体插入新种群newpop，然后根据式（10）计算candidatepop中每个剩余个体与newpop中所有个体的不相似度。根据candidatepop中每个个体的相异度，从candidatepop中选择相异值最大的个体加入newpop。重复上述过程，直到newpop中的个体数量达到预设的种群规模。更新种群的Add策略的伪代码如算法3所示。

种群更新的Add策略将相异度最大的个体一一选择到新种群中。但它倾向于选择候选种群空间边界附近的个体，在某些极端情况下可能会忽略中心附近的个体。因此，提出了另一种种群更新策略，称为Del策略。与Add策略相反，Del策略通过将candidatepop群体中与所有其他个体相异性最小的个体一一删除来更新群体，直到candidatepop群体的大小与预设的群体大小相同。更详细地说，基于候选群体中每对个体之间的相异性构建相异性矩阵 DissimM。 DissimM中最小的元素代表对应的两个个体在candidatepop中最相似。结果，这两个人中的一个应该被淘汰。那么，哪些人应该被删除呢？想想我们的 DOTSG，其中在 EFSM 模型的传统面向覆盖的测试生成中考虑了多样性。因此，如果覆盖率不同，则从两个相似个体中删除覆盖率低的个体。否则，随机删除两者之一。然后，从矩阵DissimM中删除相应的行和列，并更新矩阵。重复淘汰过程，直到candidatepop的大小达到总体大小。然后，将candidatepop作为新的种群。算法4给出了更新种群的Del策略的伪代码。


遗传算法适用于问题的候选解决方案群体。我们的具体问题是使用遗传算法来搜索一组输入数据，这些数据可以遍历 EFSM 模型中的潜在 (K) 完整 FTP。更一般地，给定 EFSM 中的特定 (K) 完整路径 π，π=s1−−−−⟶e1[c1]/a1s2−−−−⟶e2[c2]/a2s3⋯sm−−−−⟶em[ cm]/amsm+1，其中ei是事件，ci是条件，ai是动作序列，个体是输入值列表，x=(x1,x2,⋯,xn)，对应所有事件 e1,e2,…,em 的参数按照它们出现的顺序排列。如果具有参数值 x1,x2,⋯,xn 的事件序列确定路径 π 上的转换并验证每个转换的条件 ci，则 x 是路径 π 的解。这意味着，尽管搜索过程中输入值发生了变化，但必须解决路径所施加的每个已达到的限制，并且之前的谓词必须保持解决状态。图 1 显示了具有三个转换的简单转换路径。测试输入是序列 (e1(a,b),e2,e3)，其中变量 a 和 b 被替换为实际值。例如，(e1(2,3),e2,e3) 是经过验证的测试数据，可以遍历该路径，而 (e1(−1,3),e2,e3) 则不能，因为 T2 上的条件不成立。因此，(2, 3) 和(-1, 3) 是个体，但只有(2, 3) 是该示例的解。
